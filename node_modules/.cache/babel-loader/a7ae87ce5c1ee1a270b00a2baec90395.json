{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adefe\\\\Downloads\\\\Compressed\\\\mynft-minter\\\\src\\\\App.js\";\nimport \"./styles/App.css\";\nimport twitterLogo from \"./assets/twitter-logo.svg\";\nimport React, { useEffect, useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport MyEpicNFT from \"./utils/MyEpicNFT.json\"; // Constants\n\nconst TWITTER_HANDLE = \"_buildspace\";\nconst TWITTER_LINK = `https://twitter.com/${TWITTER_HANDLE}`;\nconst OPENSEA_LINK = \"\";\nconst TOTAL_MINT_COUNT = 50;\nconst CONTRACT_ADDRESS = \"0xB0dDa81814730abD6Fe3308C634F599D75Cea5DC\";\n\nconst App = () => {\n  const [currentAccount, setCurrentAccount] = useState(\"\");\n  const [mintCount, setMintCount] = useState(0);\n  const [NFTmessage, setNFTMessage] = useState(\"\");\n  const [NFTlink, setNFTLink] = useState(\"\");\n  const [isMinting, setIsMinting] = useState(\"\");\n  const [networkMessage, setNetworkMessage] = useState(\"You are not connected to the Rinkeby Test Network!\");\n\n  const checkIfWalletIsConnected = async () => {\n    const {\n      ethereum\n    } = window;\n\n    if (!ethereum) {\n      console.log(\"Make sure you have MetaMask\");\n      return;\n    } else {\n      let chainId = await ethereum.request({\n        method: \"eth_chainId\"\n      });\n      console.log(\"Connected to chain \" + chainId); // String, hex code of the chainId of the Rinkebey test network\n\n      const rinkebyChainId = \"0x4\";\n\n      if (chainId !== rinkebyChainId) {\n        alert(\"You are not connected to the Rinkeby Test Network!\");\n      }\n\n      console.log(\"Wallet Connected\", ethereum);\n      const provider = new ethers.providers.Web3Provider(ethereum);\n      const signer = provider.getSigner();\n      const connectedContract = new ethers.Contract(CONTRACT_ADDRESS, MyEpicNFT.abi, signer);\n      let mintCount = await connectedContract.getTotalNoOfAttempts();\n      console.log(\"Retrieved Total No. of Attempts\", mintCount.toNumber());\n      setMintCount(mintCount.toNumber());\n    }\n\n    const accounts = await ethereum.request({\n      method: \"eth_accounts\"\n    }); // User can have multiple authorized accounts\n\n    if (accounts.length !== 0) {\n      const account = accounts[0];\n      console.log(\"Found an authorized account:\", account);\n      setCurrentAccount(account);\n      setupEventListener();\n    } else {\n      console.log(\"No authorized account found\");\n    }\n  };\n  /*\n   * Implement your connectWallet method here\n   */\n\n\n  const connectWallet = async () => {\n    try {\n      const {\n        ethereum\n      } = window;\n\n      if (!ethereum) {\n        alert(\"Get MetaMask!\");\n        return;\n      }\n      /*\n       * Fancy method to request access to account.\n       */\n\n\n      const accounts = await ethereum.request({\n        method: \"eth_requestAccounts\"\n      });\n      /*\n       * Boom! This should print out public address once we authorize Metamask.\n       */\n\n      console.log(\"Connected\", accounts[0]);\n      setCurrentAccount(accounts[0]); // Setup listener! This is for the case where a user comes to our site\n      // and connected their wallet for the first time.\n\n      setupEventListener();\n    } catch (error) {\n      console.log(error);\n    }\n  }; // Setup Our Listener\n\n\n  const setupEventListener = async () => {\n    // Most of this looks the same as our function askContractToMintNft\n    try {\n      const {\n        ethereum\n      } = window;\n\n      if (ethereum) {\n        // Same stuff again\n        const provider = new ethers.providers.Web3Provider(ethereum);\n        const signer = provider.getSigner();\n        const connectedContract = new ethers.Contract(CONTRACT_ADDRESS, MyEpicNFT.abi, signer); // THIS IS THE MAGIC SAUCE.\n        // This will essentially \"capture\" our event when our contract throws it.\n        // If you're familiar with webhooks, it's very similar to that!\n\n        connectedContract.on(\"NewEpicNFTMinted\", (from, tokenId) => {\n          console.log(from, tokenId.toNumber()); // alert(`Hey there! We've minted your NFT and sent it to your wallet. It may be blank right now. It can take a max of 10 min to show up on OpenSea. Here's the link: https://testnets.opensea.io/assets/${CONTRACT_ADDRESS}/${tokenId.toNumber()}`);\n\n          setNFTMessage(`Hey there! We've minted your NFT and sent it to your wallet. It may be blank right now. It can take a max of 10 min to show up on OpenSea. Here's the Link:`);\n          setNFTLink(`https://testnets.opensea.io/assets/${CONTRACT_ADDRESS}/${tokenId.toNumber()}`);\n        });\n        console.log(\"Setup event listener!\");\n      } else {\n        console.log(\"Ethereum object doesn't exist!\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const askContractToMintNft = async () => {\n    try {\n      const {\n        ethereum\n      } = window;\n\n      if (ethereum) {\n        const provider = new ethers.providers.Web3Provider(ethereum);\n        const signer = provider.getSigner();\n        const connectedContract = new ethers.Contract(CONTRACT_ADDRESS, MyEpicNFT.abi, signer);\n        let mintCount = await connectedContract.getTotalNoOfAttempts();\n        console.log(\"Retrieved Total No. of Attempts\", mintCount.toNumber());\n        console.log(\"Going to pop wallet now to pay gas...\");\n        let nftTxn = await connectedContract.makeAnEpicNFT();\n        console.log(\"Mining Transaction...please wait.\");\n        await nftTxn.wait();\n        mintCount = await connectedContract.getTotalNoOfAttempts();\n        console.log(\"Retrieved Total No. of Attempts\", mintCount.toNumber());\n        setMintCount(mintCount.toNumber());\n        console.log(`Transaction Mined, see transaction: https://rinkeby.etherscan.io/tx/${nftTxn.hash}`);\n      } else {\n        console.log(\"Ethereum object doesn't exist!\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const rikeby = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: messageStyle,\n      className: \"gradient-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }\n    }, networkMessage));\n  };\n\n  useEffect(() => {\n    checkIfWalletIsConnected();\n  }, []); // Render Methods\n\n  const renderNotConnectedContainer = () => /*#__PURE__*/React.createElement(\"button\", {\n    onClick: connectWallet,\n    className: \"cta-button connect-wallet-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 5\n    }\n  }, \"Connect to Wallet\");\n\n  const messageStyle = {\n    fontSize: \"18px\",\n    margin: \"15px auto\",\n    width: \"60%\"\n  }; // Render Message\n\n  const NFTMintedMessage = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: messageStyle,\n      className: \"gradient-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 7\n      }\n    }, NFTmessage, \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 22\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: NFTlink,\n      target: \"_blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }\n    }, NFTlink));\n  }; // Loading Animation\n\n\n  const Loader = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"out\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"fade-in\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"loader_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"one common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"two common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"three common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"four common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"five common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"six common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"seven common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"eight common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"progress\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 13\n      }\n    }))));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"header gradient-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 11\n    }\n  }, \"Fight Results NFT Collection\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"sub-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 11\n    }\n  }, \"Each unique. Each beautiful. Discover your NFT today. \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 67\n    }\n  }), \"You have minted \", mintCount, \"/\", TOTAL_MINT_COUNT, \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"gradient-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 13\n    }\n  }, \"NFTs\")), ethereum, NFTmessage ? /*#__PURE__*/React.createElement(NFTMintedMessage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 25\n    }\n  }) : \"\", currentAccount === \"\" ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }, renderNotConnectedContainer()) : /*#__PURE__*/React.createElement(\"button\", {\n    onClick: askContractToMintNft,\n    className: \"cta-button connect-wallet-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }\n  }, \"Mint NFT\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"footer-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"Twitter Logo\",\n    className: \"twitter-logo\",\n    src: twitterLogo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"footer-text\",\n    href: TWITTER_LINK,\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 11\n    }\n  }, `built on @${TWITTER_HANDLE}`))));\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/adefe/Downloads/Compressed/mynft-minter/src/App.js"],"names":["React","useEffect","useState","ethers","MyEpicNFT","TWITTER_HANDLE","TWITTER_LINK","OPENSEA_LINK","TOTAL_MINT_COUNT","CONTRACT_ADDRESS","App","currentAccount","setCurrentAccount","mintCount","setMintCount","NFTmessage","setNFTMessage","NFTlink","setNFTLink","isMinting","setIsMinting","networkMessage","setNetworkMessage","checkIfWalletIsConnected","ethereum","window","console","log","chainId","request","method","rinkebyChainId","alert","provider","providers","Web3Provider","signer","getSigner","connectedContract","Contract","abi","getTotalNoOfAttempts","toNumber","accounts","length","account","setupEventListener","connectWallet","error","on","from","tokenId","askContractToMintNft","nftTxn","makeAnEpicNFT","wait","hash","rikeby","messageStyle","renderNotConnectedContainer","fontSize","margin","width","NFTMintedMessage","Loader","twitterLogo"],"mappings":"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","sourcesContent":["import \"./styles/App.css\";\nimport twitterLogo from \"./assets/twitter-logo.svg\";\nimport React, { useEffect, useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport MyEpicNFT from \"./utils/MyEpicNFT.json\";\n\n// Constants\nconst TWITTER_HANDLE = \"_buildspace\";\nconst TWITTER_LINK = `https://twitter.com/${TWITTER_HANDLE}`;\nconst OPENSEA_LINK = \"\";\nconst TOTAL_MINT_COUNT = 50;\nconst CONTRACT_ADDRESS = \"0xB0dDa81814730abD6Fe3308C634F599D75Cea5DC\";\n\nconst App = () => {\n  const [currentAccount, setCurrentAccount] = useState(\"\");\n  const [mintCount, setMintCount] = useState(0);\n  const [NFTmessage, setNFTMessage] = useState(\"\");\n  const [NFTlink, setNFTLink] = useState(\"\");\n  const [isMinting, setIsMinting] = useState(\"\");\n  const [networkMessage, setNetworkMessage] = useState(\"You are not connected to the Rinkeby Test Network!\");\n\n  \n\n  const checkIfWalletIsConnected = async () => {\n    const { ethereum } = window;\n\n    if (!ethereum) {\n      console.log(\"Make sure you have MetaMask\");\n      return;\n    } else {\n      let chainId = await ethereum.request({ method: \"eth_chainId\" });\n      console.log(\"Connected to chain \" + chainId);\n\n      // String, hex code of the chainId of the Rinkebey test network\n      const rinkebyChainId = \"0x4\";\n      if (chainId !== rinkebyChainId) {\n        alert(\"You are not connected to the Rinkeby Test Network!\");\n      }\n      console.log(\"Wallet Connected\", ethereum);\n\n      const provider = new ethers.providers.Web3Provider(ethereum);\n      const signer = provider.getSigner();\n      const connectedContract = new ethers.Contract(\n        CONTRACT_ADDRESS,\n        MyEpicNFT.abi,\n        signer\n      );\n\n      let mintCount = await connectedContract.getTotalNoOfAttempts();\n      console.log(\"Retrieved Total No. of Attempts\", mintCount.toNumber());\n      setMintCount(mintCount.toNumber());\n    }\n\n    const accounts = await ethereum.request({ method: \"eth_accounts\" });\n\n    // User can have multiple authorized accounts\n    if (accounts.length !== 0) {\n      const account = accounts[0];\n      console.log(\"Found an authorized account:\", account);\n      setCurrentAccount(account);\n      setupEventListener();\n    } else {\n      console.log(\"No authorized account found\");\n    }\n  };\n\n  /*\n   * Implement your connectWallet method here\n   */\n  const connectWallet = async () => {\n    try {\n      const { ethereum } = window;\n\n      if (!ethereum) {\n        alert(\"Get MetaMask!\");\n        return;\n      }\n\n      /*\n       * Fancy method to request access to account.\n       */\n      const accounts = await ethereum.request({\n        method: \"eth_requestAccounts\",\n      });\n\n      /*\n       * Boom! This should print out public address once we authorize Metamask.\n       */\n      console.log(\"Connected\", accounts[0]);\n      setCurrentAccount(accounts[0]);\n\n      // Setup listener! This is for the case where a user comes to our site\n      // and connected their wallet for the first time.\n      setupEventListener();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // Setup Our Listener\n  const setupEventListener = async () => {\n    // Most of this looks the same as our function askContractToMintNft\n    try {\n      const { ethereum } = window;\n\n      if (ethereum) {\n        // Same stuff again\n        const provider = new ethers.providers.Web3Provider(ethereum);\n        const signer = provider.getSigner();\n        const connectedContract = new ethers.Contract(\n          CONTRACT_ADDRESS,\n          MyEpicNFT.abi,\n          signer\n        );\n\n        // THIS IS THE MAGIC SAUCE.\n        // This will essentially \"capture\" our event when our contract throws it.\n        // If you're familiar with webhooks, it's very similar to that!\n        connectedContract.on(\"NewEpicNFTMinted\", (from, tokenId) => {\n          console.log(from, tokenId.toNumber());\n          // alert(`Hey there! We've minted your NFT and sent it to your wallet. It may be blank right now. It can take a max of 10 min to show up on OpenSea. Here's the link: https://testnets.opensea.io/assets/${CONTRACT_ADDRESS}/${tokenId.toNumber()}`);\n          setNFTMessage(\n            `Hey there! We've minted your NFT and sent it to your wallet. It may be blank right now. It can take a max of 10 min to show up on OpenSea. Here's the Link:`\n          );\n          setNFTLink(\n            `https://testnets.opensea.io/assets/${CONTRACT_ADDRESS}/${tokenId.toNumber()}`\n          );\n        });\n        console.log(\"Setup event listener!\");\n      } else {\n        console.log(\"Ethereum object doesn't exist!\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const askContractToMintNft = async () => {\n    try {\n      const { ethereum } = window;\n\n      if (ethereum) {\n        const provider = new ethers.providers.Web3Provider(ethereum);\n        const signer = provider.getSigner();\n        const connectedContract = new ethers.Contract(\n          CONTRACT_ADDRESS,\n          MyEpicNFT.abi,\n          signer\n        );\n\n        let mintCount = await connectedContract.getTotalNoOfAttempts();\n        console.log(\"Retrieved Total No. of Attempts\", mintCount.toNumber());\n\n        console.log(\"Going to pop wallet now to pay gas...\");\n        let nftTxn = await connectedContract.makeAnEpicNFT();\n\n        console.log(\"Mining Transaction...please wait.\");\n        await nftTxn.wait();\n\n        mintCount = await connectedContract.getTotalNoOfAttempts();\n        console.log(\"Retrieved Total No. of Attempts\", mintCount.toNumber());\n        setMintCount(mintCount.toNumber());\n\n        console.log(\n          `Transaction Mined, see transaction: https://rinkeby.etherscan.io/tx/${nftTxn.hash}`\n        );\n      } else {\n        console.log(\"Ethereum object doesn't exist!\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const rikeby = () =>{\n    return(\n      <div style={messageStyle} className=\"gradient-text\">\n        <p>{networkMessage}</p>\n      </div>\n    )\n  }\n\n  useEffect(() => {\n    checkIfWalletIsConnected();\n  }, []);\n\n  // Render Methods\n  const renderNotConnectedContainer = () => (\n    <button\n      onClick={connectWallet}\n      className=\"cta-button connect-wallet-button\"\n    >\n      Connect to Wallet\n    </button>\n  );\n  const messageStyle = {\n    fontSize: \"18px\",\n    margin: \"15px auto\",\n    width: \"60%\",\n  };\n  // Render Message\n  const NFTMintedMessage = () => {\n    return (\n      <div style={messageStyle} className=\"gradient-text\">\n        {NFTmessage} <br />\n        <a href={NFTlink} target=\"_blank\">\n          {NFTlink}\n        </a>\n      </div>\n    );\n  };\n  // Loading Animation\n  const Loader = () => {\n    return (\n      <div class=\"out\">\n        <div class=\"fade-in\">\n          <div class=\"loader_container\">\n            <div class=\"one common\"></div>\n            <div class=\"two common\"></div>\n            <div class=\"three common\"></div>\n            <div class=\"four common\"></div>\n            <div class=\"five common\"></div>\n            <div class=\"six common\"></div>\n            <div class=\"seven common\"></div>\n            <div class=\"eight common\"></div>\n          </div>\n          <div class=\"bar\">\n            <div class=\"progress\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <div className=\"header-container\">\n          <p className=\"header gradient-text\">Fight Results NFT Collection</p>\n          <p className=\"sub-text\">\n            Each unique. Each beautiful. Discover your NFT today. <br />\n            You have minted {mintCount}/{TOTAL_MINT_COUNT}{\" \"}\n            <span className=\"gradient-text\">NFTs</span>\n          </p>\n          {ethereum}\n          {NFTmessage ? <NFTMintedMessage /> : \"\"}\n          {currentAccount === \"\" ? (\n            <div>{renderNotConnectedContainer()}</div>\n          ) : (\n            <button\n              onClick={askContractToMintNft}\n              className=\"cta-button connect-wallet-button\"\n            >\n              Mint NFT\n            </button>\n          )}\n        </div>\n        <div className=\"footer-container\">\n          <img alt=\"Twitter Logo\" className=\"twitter-logo\" src={twitterLogo} />\n          <a\n            className=\"footer-text\"\n            href={TWITTER_LINK}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >{`built on @${TWITTER_HANDLE}`}</a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}