{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adefe\\\\Downloads\\\\Compressed\\\\mynft-minter\\\\src\\\\App.js\";\nimport \"./styles/App.css\";\nimport twitterLogo from \"./assets/twitter-logo.svg\";\nimport React, { useEffect, useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport MyEpicNFT from \"./utils/MyEpicNFT.json\"; // Constants\n\nconst TWITTER_HANDLE = \"_buildspace\";\nconst TWITTER_LINK = `https://twitter.com/${TWITTER_HANDLE}`;\nconst OPENSEA_LINK = \"\";\nconst TOTAL_MINT_COUNT = 50;\nconst CONTRACT_ADDRESS = \"0xB0dDa81814730abD6Fe3308C634F599D75Cea5DC\";\n\nconst App = () => {\n  const [currentAccount, setCurrentAccount] = useState(\"\");\n  const [mintCount, setMintCount] = useState(0);\n  const [NFTmessage, setNFTMessage] = useState(\"\");\n  const [NFTlink, setNFTLink] = useState(\"\");\n  const [isMinting, setIsMinting] = useState(\"\");\n  const [networkMessage, setNetworkMessage] = useState(\"\");\n\n  const connectionStatus = async () => {\n    const {\n      ethereum\n    } = window;\n\n    if (!ethereum) {\n      setNetworkMessage(\"Make sure you have MetaMask\");\n      return;\n    } else {\n      let chainId = await ethereum.request({\n        method: \"eth_chainId\"\n      });\n      console.log(\"Connected to chain \" + chainId); // String, hex code of the chainId of the Rinkebey test network\n\n      const rinkebyChainId = \"0x4\";\n\n      if (chainId !== rinkebyChainId) {\n        setNetworkMessage(\"You are not connected to the Rinkeby Test Network! Minting isn't possible!\");\n        return true;\n      } else if (chainId === rinkebyChainId) {\n        setNetworkMessage(\"You are connected to the Rinkeby Test Network\");\n      }\n    }\n  };\n\n  const checkIfWalletIsConnected = async () => {\n    const {\n      ethereum\n    } = window;\n\n    if (!ethereum) {\n      console.log(\"Make sure you have MetaMask\");\n      return;\n    } else {\n      connectionStatus();\n      console.log(\"Wallet Connected\", ethereum);\n      const provider = new ethers.providers.Web3Provider(ethereum);\n      const signer = provider.getSigner();\n      const connectedContract = new ethers.Contract(CONTRACT_ADDRESS, MyEpicNFT.abi, signer);\n      let mintCount = await connectedContract.getTotalNoOfAttempts();\n      console.log(\"Retrieved Total No. of Attempts\", mintCount.toNumber());\n      setMintCount(mintCount.toNumber());\n    }\n\n    const accounts = await ethereum.request({\n      method: \"eth_accounts\"\n    }); // User can have multiple authorized accounts\n\n    if (accounts.length !== 0) {\n      const account = accounts[0];\n      console.log(\"Found an authorized account:\", account);\n      setCurrentAccount(account);\n      setupEventListener();\n    } else {\n      console.log(\"No authorized account found\");\n    }\n  };\n  /*\n   * Implement your connectWallet method here\n   */\n\n\n  const connectWallet = async () => {\n    try {\n      const {\n        ethereum\n      } = window;\n\n      if (!ethereum) {\n        alert(\"Get MetaMask!\");\n        return;\n      }\n      /*\n       * Fancy method to request access to account.\n       */\n\n\n      const accounts = await ethereum.request({\n        method: \"eth_requestAccounts\"\n      });\n      /*\n       * Boom! This should print out public address once we authorize Metamask.\n       */\n\n      console.log(\"Connected\", accounts[0]);\n      setCurrentAccount(accounts[0]); // Setup listener! This is for the case where a user comes to our site\n      // and connected their wallet for the first time.\n\n      setupEventListener();\n    } catch (error) {\n      console.log(error);\n    }\n  }; // Setup Our Listener\n\n\n  const setupEventListener = async () => {\n    // Most of this looks the same as our function askContractToMintNft\n    try {\n      const {\n        ethereum\n      } = window;\n\n      if (ethereum) {\n        // Same stuff again\n        const provider = new ethers.providers.Web3Provider(ethereum);\n        const signer = provider.getSigner();\n        const connectedContract = new ethers.Contract(CONTRACT_ADDRESS, MyEpicNFT.abi, signer); // THIS IS THE MAGIC SAUCE.\n        // This will essentially \"capture\" our event when our contract throws it.\n        // If you're familiar with webhooks, it's very similar to that!\n\n        connectedContract.on(\"NewEpicNFTMinted\", (from, tokenId) => {\n          console.log(from, tokenId.toNumber()); // alert(`Hey there! We've minted your NFT and sent it to your wallet. It may be blank right now. It can take a max of 10 min to show up on OpenSea. Here's the link: https://testnets.opensea.io/assets/${CONTRACT_ADDRESS}/${tokenId.toNumber()}`);\n\n          setNFTMessage(`Hey there! We've minted your NFT and sent it to your wallet. It may be blank right now. It can take a max of 10 min to show up on OpenSea. Here's the Link:`);\n          setNFTLink(`https://testnets.opensea.io/assets/${CONTRACT_ADDRESS}/${tokenId.toNumber()}`);\n        });\n        console.log(\"Setup event listener!\");\n      } else {\n        console.log(\"Ethereum object doesn't exist!\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const askContractToMintNft = async () => {\n    try {\n      const {\n        ethereum\n      } = window;\n\n      if (ethereum) {\n        const provider = new ethers.providers.Web3Provider(ethereum);\n        const signer = provider.getSigner();\n        const connectedContract = new ethers.Contract(CONTRACT_ADDRESS, MyEpicNFT.abi, signer);\n        let mintCount = await connectedContract.getTotalNoOfAttempts();\n        console.log(\"Retrieved Total No. of Attempts\", mintCount.toNumber());\n        console.log(\"Going to pop wallet now to pay gas...\");\n        let nftTxn = await connectedContract.makeAnEpicNFT();\n        console.log(\"Mining Transaction...please wait.\");\n        await nftTxn.wait();\n        mintCount = await connectedContract.getTotalNoOfAttempts();\n        console.log(\"Retrieved Total No. of Attempts\", mintCount.toNumber());\n        setMintCount(mintCount.toNumber());\n        console.log(`Transaction Mined, see transaction: https://rinkeby.etherscan.io/tx/${nftTxn.hash}`);\n      } else {\n        console.log(\"Ethereum object doesn't exist!\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const messageStyle = {\n    fontSize: \"18px\",\n    margin: \"15px auto\",\n    width: \"60%\"\n  };\n\n  const Rinkeby = () => /*#__PURE__*/React.createElement(\"div\", {\n    style: messageStyle,\n    className: \"gradient-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 5\n    }\n  }, networkMessage);\n\n  useEffect(() => {\n    checkIfWalletIsConnected();\n  }, []); // Render Methods\n\n  const renderNotConnectedContainer = () => /*#__PURE__*/React.createElement(\"button\", {\n    onClick: connectWallet,\n    className: \"cta-button connect-wallet-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 5\n    }\n  }, \"Connect to Wallet\"); // Render Message\n\n\n  const NFTMintedMessage = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: messageStyle,\n      className: \"gradient-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 7\n      }\n    }, NFTmessage, \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 22\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: NFTlink,\n      target: \"_blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }\n    }, NFTlink));\n  }; // Loading Animation\n\n\n  const Loader = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"out\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"fade-in\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"loader_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"one common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"two common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"three common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"four common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"five common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"six common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"seven common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"eight common\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"progress\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 13\n      }\n    }))));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"header gradient-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 11\n    }\n  }, \"Fight Results NFT Collection\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"sub-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 11\n    }\n  }, \"Each unique. Each beautiful. Discover your NFT today. \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 67\n    }\n  }), \"You have minted \", mintCount, \"/\", TOTAL_MINT_COUNT, \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"gradient-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }\n  }, \"NFTs\")), connectionStatus ? /*#__PURE__*/React.createElement(Rinkeby, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 31\n    }\n  }) : \"\", NFTmessage ? /*#__PURE__*/React.createElement(NFTMintedMessage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 25\n    }\n  }) : \"\", currentAccount === \"\" ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }\n  }, renderNotConnectedContainer()) : /*#__PURE__*/React.createElement(\"button\", {\n    onClick: askContractToMintNft,\n    className: \"cta-button connect-wallet-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }\n  }, \"Mint NFT\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"footer-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"Twitter Logo\",\n    className: \"twitter-logo\",\n    src: twitterLogo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"footer-text\",\n    href: TWITTER_LINK,\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 11\n    }\n  }, `built on @${TWITTER_HANDLE}`))));\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/adefe/Downloads/Compressed/mynft-minter/src/App.js"],"names":["React","useEffect","useState","ethers","MyEpicNFT","TWITTER_HANDLE","TWITTER_LINK","OPENSEA_LINK","TOTAL_MINT_COUNT","CONTRACT_ADDRESS","App","currentAccount","setCurrentAccount","mintCount","setMintCount","NFTmessage","setNFTMessage","NFTlink","setNFTLink","isMinting","setIsMinting","networkMessage","setNetworkMessage","connectionStatus","ethereum","window","chainId","request","method","console","log","rinkebyChainId","checkIfWalletIsConnected","provider","providers","Web3Provider","signer","getSigner","connectedContract","Contract","abi","getTotalNoOfAttempts","toNumber","accounts","length","account","setupEventListener","connectWallet","alert","error","on","from","tokenId","askContractToMintNft","nftTxn","makeAnEpicNFT","wait","hash","messageStyle","fontSize","margin","width","Rinkeby","renderNotConnectedContainer","NFTMintedMessage","Loader","twitterLogo"],"mappings":"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","sourcesContent":["import \"./styles/App.css\";\nimport twitterLogo from \"./assets/twitter-logo.svg\";\nimport React, { useEffect, useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport MyEpicNFT from \"./utils/MyEpicNFT.json\";\n\n// Constants\nconst TWITTER_HANDLE = \"_buildspace\";\nconst TWITTER_LINK = `https://twitter.com/${TWITTER_HANDLE}`;\nconst OPENSEA_LINK = \"\";\nconst TOTAL_MINT_COUNT = 50;\nconst CONTRACT_ADDRESS = \"0xB0dDa81814730abD6Fe3308C634F599D75Cea5DC\";\n\nconst App = () => {\n  const [currentAccount, setCurrentAccount] = useState(\"\");\n  const [mintCount, setMintCount] = useState(0);\n  const [NFTmessage, setNFTMessage] = useState(\"\");\n  const [NFTlink, setNFTLink] = useState(\"\");\n  const [isMinting, setIsMinting] = useState(\"\");\n  const [networkMessage, setNetworkMessage] = useState(\"\");\n\n  const connectionStatus = async () => {\n    const { ethereum } = window;\n\n    if (!ethereum) {\n      setNetworkMessage(\"Make sure you have MetaMask\");\n      return;\n    } else {\n      let chainId = await ethereum.request({ method: \"eth_chainId\" });\n      console.log(\"Connected to chain \" + chainId);\n\n      // String, hex code of the chainId of the Rinkebey test network\n      const rinkebyChainId = \"0x4\";\n      if (chainId !== rinkebyChainId) {\n        setNetworkMessage(\"You are not connected to the Rinkeby Test Network! Minting isn't possible!\");\n        return true;\n      } else if(chainId === rinkebyChainId) {\n        setNetworkMessage(\"You are connected to the Rinkeby Test Network\");\n      }\n    }\n  };\n\n  const checkIfWalletIsConnected = async () => {\n    const { ethereum } = window;\n\n    if (!ethereum) {\n      console.log(\"Make sure you have MetaMask\");\n      return;\n    } else {\n      connectionStatus();\n      console.log(\"Wallet Connected\", ethereum);\n\n      const provider = new ethers.providers.Web3Provider(ethereum);\n      const signer = provider.getSigner();\n      const connectedContract = new ethers.Contract(\n        CONTRACT_ADDRESS,\n        MyEpicNFT.abi,\n        signer\n      );\n\n      let mintCount = await connectedContract.getTotalNoOfAttempts();\n      console.log(\"Retrieved Total No. of Attempts\", mintCount.toNumber());\n      setMintCount(mintCount.toNumber());\n    }\n\n    const accounts = await ethereum.request({ method: \"eth_accounts\" });\n\n    // User can have multiple authorized accounts\n    if (accounts.length !== 0) {\n      const account = accounts[0];\n      console.log(\"Found an authorized account:\", account);\n      setCurrentAccount(account);\n      setupEventListener();\n    } else {\n      console.log(\"No authorized account found\");\n    }\n  };\n\n  /*\n   * Implement your connectWallet method here\n   */\n  const connectWallet = async () => {\n    try {\n      const { ethereum } = window;\n\n      if (!ethereum) {\n        alert(\"Get MetaMask!\");\n        return;\n      }\n\n      /*\n       * Fancy method to request access to account.\n       */\n      const accounts = await ethereum.request({\n        method: \"eth_requestAccounts\",\n      });\n\n      /*\n       * Boom! This should print out public address once we authorize Metamask.\n       */\n      console.log(\"Connected\", accounts[0]);\n      setCurrentAccount(accounts[0]);\n\n      // Setup listener! This is for the case where a user comes to our site\n      // and connected their wallet for the first time.\n      setupEventListener();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // Setup Our Listener\n  const setupEventListener = async () => {\n    // Most of this looks the same as our function askContractToMintNft\n    try {\n      const { ethereum } = window;\n\n      if (ethereum) {\n        // Same stuff again\n        const provider = new ethers.providers.Web3Provider(ethereum);\n        const signer = provider.getSigner();\n        const connectedContract = new ethers.Contract(\n          CONTRACT_ADDRESS,\n          MyEpicNFT.abi,\n          signer\n        );\n\n        // THIS IS THE MAGIC SAUCE.\n        // This will essentially \"capture\" our event when our contract throws it.\n        // If you're familiar with webhooks, it's very similar to that!\n        connectedContract.on(\"NewEpicNFTMinted\", (from, tokenId) => {\n          console.log(from, tokenId.toNumber());\n          // alert(`Hey there! We've minted your NFT and sent it to your wallet. It may be blank right now. It can take a max of 10 min to show up on OpenSea. Here's the link: https://testnets.opensea.io/assets/${CONTRACT_ADDRESS}/${tokenId.toNumber()}`);\n          setNFTMessage(\n            `Hey there! We've minted your NFT and sent it to your wallet. It may be blank right now. It can take a max of 10 min to show up on OpenSea. Here's the Link:`\n          );\n          setNFTLink(\n            `https://testnets.opensea.io/assets/${CONTRACT_ADDRESS}/${tokenId.toNumber()}`\n          );\n        });\n        console.log(\"Setup event listener!\");\n      } else {\n        console.log(\"Ethereum object doesn't exist!\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const askContractToMintNft = async () => {\n    try {\n      const { ethereum } = window;\n\n      if (ethereum) {\n        const provider = new ethers.providers.Web3Provider(ethereum);\n        const signer = provider.getSigner();\n        const connectedContract = new ethers.Contract(\n          CONTRACT_ADDRESS,\n          MyEpicNFT.abi,\n          signer\n        );\n\n        let mintCount = await connectedContract.getTotalNoOfAttempts();\n        console.log(\"Retrieved Total No. of Attempts\", mintCount.toNumber());\n\n        console.log(\"Going to pop wallet now to pay gas...\");\n        let nftTxn = await connectedContract.makeAnEpicNFT();\n\n        console.log(\"Mining Transaction...please wait.\");\n        await nftTxn.wait();\n\n        mintCount = await connectedContract.getTotalNoOfAttempts();\n        console.log(\"Retrieved Total No. of Attempts\", mintCount.toNumber());\n        setMintCount(mintCount.toNumber());\n\n        console.log(\n          `Transaction Mined, see transaction: https://rinkeby.etherscan.io/tx/${nftTxn.hash}`\n        );\n      } else {\n        console.log(\"Ethereum object doesn't exist!\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const messageStyle = {\n    fontSize: \"18px\",\n    margin: \"15px auto\",\n    width: \"60%\",\n  };\n\n  const Rinkeby = () => (\n    <div style={messageStyle} className=\"gradient-text\">\n      {networkMessage}\n    </div>\n  );\n\n  useEffect(() => {\n    checkIfWalletIsConnected();\n  }, []);\n\n  // Render Methods\n  const renderNotConnectedContainer = () => (\n    <button\n      onClick={connectWallet}\n      className=\"cta-button connect-wallet-button\"\n    >\n      Connect to Wallet\n    </button>\n  );\n  // Render Message\n  const NFTMintedMessage = () => {\n    return (\n      <div style={messageStyle} className=\"gradient-text\">\n        {NFTmessage} <br />\n        <a href={NFTlink} target=\"_blank\">\n          {NFTlink}\n        </a>\n      </div>\n    );\n  };\n  // Loading Animation\n  const Loader = () => {\n    return (\n      <div class=\"out\">\n        <div class=\"fade-in\">\n          <div class=\"loader_container\">\n            <div class=\"one common\"></div>\n            <div class=\"two common\"></div>\n            <div class=\"three common\"></div>\n            <div class=\"four common\"></div>\n            <div class=\"five common\"></div>\n            <div class=\"six common\"></div>\n            <div class=\"seven common\"></div>\n            <div class=\"eight common\"></div>\n          </div>\n          <div class=\"bar\">\n            <div class=\"progress\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <div className=\"header-container\">\n          <p className=\"header gradient-text\">Fight Results NFT Collection</p>\n          <p className=\"sub-text\">\n            Each unique. Each beautiful. Discover your NFT today. <br />\n            You have minted {mintCount}/{TOTAL_MINT_COUNT}{\" \"}\n            <span className=\"gradient-text\">NFTs</span>\n          </p>\n          {connectionStatus ? <Rinkeby /> : \"\" }\n          {NFTmessage ? <NFTMintedMessage /> : \"\"}\n          {currentAccount === \"\" ? (\n            <div>{renderNotConnectedContainer()}</div>\n          ) : (\n            <button\n              onClick={askContractToMintNft}\n              className=\"cta-button connect-wallet-button\"\n            >\n              Mint NFT\n            </button>\n          )}\n        </div>\n        <div className=\"footer-container\">\n          <img alt=\"Twitter Logo\" className=\"twitter-logo\" src={twitterLogo} />\n          <a\n            className=\"footer-text\"\n            href={TWITTER_LINK}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >{`built on @${TWITTER_HANDLE}`}</a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}